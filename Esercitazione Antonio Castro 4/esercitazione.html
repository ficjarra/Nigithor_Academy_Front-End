<!DOCTYPE html>

<html lang="it">

<head>

    <meta charset="UTF-8">

    <link rel="stylesheet" type="text/css" href="style.css">

    <title>Esercizi</title>

    <script>

        //Esercizio 1

        var colors = ["red", "yellow", "black", "green", "blue"];
        var i = 0;
        var timer;
        var flagtimer;

        function setBG() {

            flagtimer = true;

            if (i == colors.length)

                i = 0;

            document.bgColor = colors[i++];

            timer = window.setTimeout(setBG, 15000)

        }

        function stop() {

            clearTimeout(timer);
            flagtimer = false;

        }

        //Esercizio 2

        /*function addbookmark() {

            browser.bookmarks.create({

                title: "Pagina di esercizi",
                url: "file:///D:/Desktop/Robe%20portatili/Projects/Nigithor%20Academy/HTML_XHTML_CSS_JS/Esercitazione%20Antonio%20Castro%204/ex1.html"

            });

        }*/

        //Esercizio 4

        var user = prompt("Come ti chiami?");

        if (user == null || user == "")

            window.alert("Nessun nome inserito");

        else

            window.alert("Ciao " + user + "!");

        //Esercizio 5

        var lm = new Date(document.lastModified);
        var day = new Date().getDate();
        var month = new Date().getMonth();
        var year = new Date().getFullYear();
        var hour = new Date().getHours();

        function addZero(hm) {

            if (hm < 10) {

                hm = "0" + hm;

            }

            return hm;

        }

        function showDate() {

            switch (month + 1) {

                case 1:

                    month = "gennaio";
                    break;

                case 2:

                    month = "febbraio";
                    break;

                case 3:

                    month = "marzo";
                    break;

                case 4:

                    month = "aprile";
                    break;

                case 5:

                    month = "maggio";
                    break;

                case 6:

                    month = "giugno";
                    break;

                case 7:

                    month = "luglio";
                    break;

                case 8:

                    month = "agosto";
                    break;

                case 9:

                    month = "settembre";
                    break;

                case 10:

                    month = "ottobre";
                    break;

                case 11:

                    month = "novembre";
                    break;

                case 12:

                    month = "dicembre";
                    break;

            }

            document.getElementById("date").innerText = day + " " + month + " " + year;
            document.getElementById("lastmod").innerText += lm.getDate() + "/" + lm.getMonth() + "/" + lm.getFullYear() + " " + addZero(lm.getHours()) + ":" + addZero(lm.getMinutes());

            if (hour >= 4 && hour < 12) {

                window.status = "Buongiorno, " + user;

            }

            else if (hour >= 12 && hour < 18) {

                window.status = "Buon pomeriggio, " + user;

            }

            else if (hour >= 18 && hour < 23) {

                window.status = "Buonasera, " + user;

            }

            else {

                window.status = "Buonanotte, " + user;

            }

        }

        //Esercizio 6

        var error;

        function validate() {

            alerterror = "";
            document.getElementById("error").innerHTML = "";

            if (document.getElementById("testform").elements.namedItem("email").value.indexOf("@") == -1) {

                alerterror = "Inserisci un'email valida.";
                document.getElementById("error").innerHTML = "Inserisci un'email valida.<br/>";
                window.open("mailerror.html");

            }

            if (document.getElementById("testform").elements.namedItem("number").value == "") {

                alerterror += "\nInserisci un numero di telefono valido.";
                document.getElementById("error").innerHTML += "Inserisci un numero di telefono valido.<br/>";
                window.open("numbererror.html");

            }

            if (!validateRadio(document.getElementById("testform").elements.namedItem("sex"))) {

                alerterror += "\nSeleziona un sesso.";
                document.getElementById("error").innerHTML += "Seleziona un sesso.";
                window.open("sexerror.html");

            }

            if (alerterror != "")

                window.alert(alerterror);

        }

        function validateRadio(sex) {

            for (i = 0; i < sex.length; ++i) {

                if (sex[i].checked) return true;

            }

            return false;

        }

    </script>

</head>

<!--Esercizio 1-->

<body onload="setBG(); showDate(); //addbookmark();">

    <!--Paragrafo esercizio 6-->
    <p id="error"></p>
    <!---->

    <center>

        <div>

            <button onclick="stop()">Stop</button>

            <button onclick="if(flagtimer == true){}

                            else

                                window.setTimeout(setBG, 15000);">Restart</button>

        </div>

        <!--Esercizio 2-->

        <div>

            <table>

                <tr>

                    <th>Aggiungi la pagina ai preferiti!</th>

                </tr>

                <tr>

                    <td id="bookmark">Premi CTRL+D per salvare la pagina nei segnalibri.</td>

                </tr>

            </table>

        </div>

    </center>
    <!--Esercizio 3-->

    <ul>

        <li><a href="javascript:window.history.back()">Torna alla pagina precedente</a></li>
        <li><a href="javascript:window.history.go(-2)">Torna indietro di tre pagine</a></li>
        <li><a href="javascript:window.history.go(-3)">Torna indietro di quattro pagine</a></li>
        <li><a href="javascript:window.history.go(-4)">Torna indietro di due pagine</a></li>
        <li><a href="javascript:window.history.go(-5)">Torna indietro di cinque pagine</a></li>

    </ul>

    <!--Esercizio 5-->

    <center>

        <div id="date"></div>
        <div id="lastmod">Ultima modifica:<br />

        </div>

    </center>

    <!--Esercizio 6-->

    <form id="testform" method="POST">

        <input name="email" type="email" placeholder="Email" /><br />
        <input name="number" type="tel" placeholder="Numero di telefono" /><br />
        <input name="creditcard" type="tel" placeholder="Carta di credito" /><br />
        Sesso:<br />
        <label><input name="sex" type="radio" value="M" />M</label>
        <label><input name="sex" type="radio" value="F" />F</label><br />
        <!--Non permette la validazione con js
        <input type="submit" />-->

    </form>

    <button onclick="validate()">Submit</button>

</body>

</html>